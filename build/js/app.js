/*! JeuHeure 2014-11-23 */
"use strict";var Clock=function(){this.stage,this.layer=new Kinetic.Layer,this.hour=0,this.min=0,this.srcClock="img/clock1.png",this.clockImage=new Image,this.hourImage=new Image,this.minImage=new Image,this.init=function(){this.stage=new Kinetic.Stage({container:"game",width:400,height:400}),this.layer=new Kinetic.Layer,console.log(this.layer),this.hour=Math.round(24*Math.random()),this.min=Math.round(60*Math.random()),this.clockImage.src=this.srcClock,this.clockImage.onload=function(){new Kinetic.Image({image:this.clockImage,width:220,height:228});console.log(Clock)},this.layer.add(this),this.layer.draw(),this.hourImage.src="img/secondHand.png",this.hourImage.onload=function(){new Kinetic.Image({image:this.hourImage,x:110,y:114,rotation:this.hour/24*360})},this.layer.add(this),this.layer.draw(),this.hourImage.src="img/firstHand.png",this.minImage.onload=function(){new Kinetic.Image({image:this.minImage,x:110,y:114,rotation:this.min/60*360})},this.layer.add(this),this.layer.draw(),this.stage.add(this.layer),this.layer.draw()}},hourApp=angular.module("hourApp",["ngRoute","ngAnimate"]);hourApp.config(["$routeProvider",function(a){a.when("/home",{templateUrl:"partials/home.html",controller:"homeController"}).when("/game",{templateUrl:"partials/game.html",controller:"gameController"}).when("/options",{templateUrl:"partials/options.html",controller:"optionsController"}).when("/credits",{templateUrl:"partials/credits.html"}).when("/",{templateUrl:"partials/home.html",controller:"homeController"}).otherwise({redirect:"/home"})}]),hourApp.controller("gameController",["$scope","$rootScope",function(a,b){b.clock.init()}]),hourApp.controller("optionsController",["$scope","$rootScope",function(){}]),hourApp.controller("homeController",["$scope","$rootScope",function(a,b){b.clock={},b.clock=new Clock,console.log(b.clock)}]);