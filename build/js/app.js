/*! JeuHeure 2014-11-25 */
"use strict";var Clock=function(){var a,b,c=this,d=new Image,e=new Image,f=new Image;c.construct=function(){c.init()},c.init=function(){a=new Kinetic.Stage({container:"clock",width:400,height:400}),c.setHeureMinute(),b=new Kinetic.Layer,d.src="img/clock1.png",d.onload=function(){var a=new Kinetic.Image({width:400,height:400,image:d,draggable:!1});b.add(a),b.draw()},f.src="img/firstHand.png",f.onload=function(){console.log(c.minutes);var a=new Kinetic.Image({x:201,y:197,width:6,height:120,rotation:180+6*c.minutes,image:f});b.add(a),b.draw()},e.src="img/secondHand.png",e.onload=function(){console.log(c.heures);var a=new Kinetic.Image({x:198,y:192,width:6,height:80,rotation:180+30*c.heures+.5*c.minutes,image:e});b.add(a),b.draw()},a.add(b),b.draw()},c.changeClock=function(a){""!=a&&null!=a&&(c.imageClock.src=a)},c.getTimeDay=function(){return c.heures>=12?"apr√®s-midi":"matin"},c.setHeureMinute=function(){c.heures=Math.round(24*Math.random()),c.minutes=5*Math.round(Math.random()/5*60),60==c.minutes&&(c.heures+=1,c.minutes=0)},c.construct()},hourApp=angular.module("hourApp",["ngRoute","ngAnimate"]);hourApp.config(["$routeProvider",function(a){a.when("/game",{templateUrl:"partials/game.html",controller:"gameController"}).when("/options",{templateUrl:"partials/options.html",controller:"optionsController"}).when("/credits",{templateUrl:"partials/credits.html"}).when("/",{templateUrl:"partials/home.html",controller:"homeController"}).otherwise({redirect:"/home"})}]),hourApp.controller("gameController",["$scope","$rootScope",function(a,b){console.log(a.clock),a.clock={},a.clock=new Clock,a.clock.changeClock(b.pathImg),a.timeDay=a.clock.getTimeDay(),console.log(a.clock)}]),hourApp.controller("optionsController",["$scope","$rootScope",function(a,b){a.changeColorClock=function(a){b.pathImg=a}}]),hourApp.controller("homeController",["$scope","$rootScope",function(){}]);